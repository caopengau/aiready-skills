<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AIReady Visualization</title>
    <style>
      html,body { height: 100%; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0f172a; color: #e2e8f0 }
      #container { display:flex; height:100vh }
      #panel { width: 320px; padding: 16px; background: #071130; box-shadow: -2px 0 8px rgba(0,0,0,0.3); overflow:auto }
      #canvasWrap { flex:1; display:flex; align-items:center; justify-content:center }
      canvas { background: #0b1220; border-radius:8px }
      .stat { margin-bottom:12px }
    </style>
  </head>
  <body>
    <div id="container">
      <div id="canvasWrap"><canvas id="canvas" width="1200" height="800"></canvas></div>
      <div id="panel">
        <h2>AIReady Visualization</h2>
        <div class="stat"><strong>Files:</strong> <span id="stat-files"></span></div>
        <div class="stat"><strong>Dependencies:</strong> <span id="stat-deps"></span></div>
        <div class="stat"><strong>Legend</strong></div>
        <div style="font-size:13px;line-height:1.3;color:#cbd5e1;margin-top:8px">
          <div style="margin-bottom:8px"><span style="display:inline-block;width:12px;height:12px;background:#ff4d4f;margin-right:8px;border:1px solid rgba(255,255,255,0.06)"></span><strong>Critical</strong>: highest severity issues.</div>
          <div style="margin-bottom:8px"><span style="display:inline-block;width:12px;height:12px;background:#ff9900;margin-right:8px;border:1px solid rgba(255,255,255,0.06)"></span><strong>Major</strong>: important issues.</div>
          <div style="margin-bottom:8px"><span style="display:inline-block;width:12px;height:12px;background:#ffd666;margin-right:8px;border:1px solid rgba(255,255,255,0.06)"></span><strong>Minor</strong>: low priority issues.</div>
          <div style="margin-bottom:8px"><span style="display:inline-block;width:12px;height:12px;background:#91d5ff;margin-right:8px;border:1px solid rgba(255,255,255,0.06)"></span><strong>Info</strong>: informational notes.</div>
          <div style="margin-top:10px;color:#94a3b8"><strong>Node size</strong>: larger = higher token cost, more issues or dependency weight.</div>
          <div style="margin-top:6px;color:#94a3b8"><strong>Proximity</strong>: nodes that are spatially close are more contextually related.</div>
          <div style="margin-top:6px;color:#94a3b8"><strong>Edge colors</strong>: <span style="color:#fb7e81">Similarity</span>, <span style="color:#84c1ff">Dependency</span>, <span style="color:#ffa500">Reference</span>.</div>
        </div>
      </div>
    </div>
    <script>
      const graphData = {
  "nodes": [
    {
      "id": "/Users/pengcao/projects/aiready/src/components/Button.tsx",
      "path": "/Users/pengcao/projects/aiready/src/components/Button.tsx",
      "label": "src/components/Button.tsx",
      "title": "Button",
      "size": 15
    },
    {
      "id": "/Users/pengcao/projects/aiready/src/utils/helpers.ts",
      "path": "/Users/pengcao/projects/aiready/src/utils/helpers.ts",
      "label": "src/utils/helpers.ts",
      "title": "helpers",
      "size": 12
    },
    {
      "id": "/Users/pengcao/projects/aiready/src/services/api.ts",
      "path": "/Users/pengcao/projects/aiready/src/services/api.ts",
      "label": "src/services/api.ts",
      "title": "api",
      "size": 18
    }
  ],
  "edges": [
    {
      "source": "/Users/pengcao/projects/aiready/src/components/Button.tsx",
      "target": "/Users/pengcao/projects/aiready/src/utils/helpers.ts",
      "type": "dependency"
    },
    {
      "source": "/Users/pengcao/projects/aiready/src/utils/helpers.ts",
      "target": "/Users/pengcao/projects/aiready/src/services/api.ts",
      "type": "dependency"
    }
  ],
  "clusters": [],
  "issues": [],
  "metadata": {
    "timestamp": "2026-02-17T13:22:30.114Z",
    "totalFiles": 3,
    "totalDependencies": 2,
    "analysisTypes": [],
    "criticalIssues": 0,
    "majorIssues": 0,
    "minorIssues": 0,
    "infoIssues": 0
  }
};
      document.getElementById('stat-files').textContent = graphData.metadata.totalFiles;
      document.getElementById('stat-deps').textContent = graphData.metadata.totalDependencies;
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      const nodes = graphData.nodes.map((n, i) => ({
        ...n,
        x: canvas.width/2 + Math.cos(i / graphData.nodes.length * Math.PI * 2) * (Math.min(canvas.width, canvas.height)/3),
        y: canvas.height/2 + Math.sin(i / graphData.nodes.length * Math.PI * 2) * (Math.min(canvas.width, canvas.height)/3),
      }));
      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        graphData.edges.forEach(edge => {
          const s = nodes.find(n => n.id === edge.source);
          const t = nodes.find(n => n.id === edge.target);
          if (!s || !t || edge.type === 'related') return;
          ctx.strokeStyle = edge.type === 'similarity' ? '#fb7e81' : 
                            edge.type === 'dependency' ? '#84c1ff' : 
                            edge.type === 'reference' ? '#ffa500' : '#334155';
          ctx.lineWidth = edge.type === 'similarity' ? 1.2 : edge.type === 'dependency' ? 1.0 : 0.8;
          ctx.beginPath();
          ctx.moveTo(s.x, s.y);
          ctx.lineTo(t.x, t.y);
          ctx.stroke();
        });
        nodes.forEach(n => {
          const r = 6 + ((n.size || n.value || 1) / 2);
          ctx.beginPath();
          ctx.fillStyle = n.color || '#60a5fa';
          ctx.arc(n.x, n.y, r, 0, Math.PI*2);
          ctx.fill();
          ctx.fillStyle = '#e2e8f0';
          ctx.font = '11px sans-serif';
          ctx.textAlign = 'center';
          ctx.fillText(n.label || n.id.split('/').slice(-1)[0], n.x, n.y + r + 12);
        });
      }
      draw();
    </script>
  </body>
</html>